# Проблема P vs NP

## Определение

### Формулировка проблемы

**Проблема P vs NP**: Равны ли классы P и NP?

```
P = NP  или  P ≠ NP  ?
```

Эквивалентные формулировки:
- Можно ли любую задачу с быстро проверяемым решением также быстро решить?
- Существует ли полиномиальный алгоритм для SAT?
- Существует ли полиномиальный алгоритм для любой NP-полной задачи?

### Интуитивное объяснение

```
┌────────────────────────────────────────────────────────────────┐
│                      ГЛАВНЫЙ ВОПРОС                            │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│   "Если решение легко ПРОВЕРИТЬ,                               │
│    значит ли это, что его легко НАЙТИ?"                        │
│                                                                │
│   P = NP:  Да! Проверка ≈ поиск                                │
│   P ≠ NP:  Нет! Проверка гораздо легче поиска                  │
│                                                                │
│   Аналогия: судоку                                             │
│   • Проверить решение — секунды                                │
│   • Найти решение — может быть долго                           │
│                                                                │
│   Если P = NP, то "проверить" = "решить"                       │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

## Зачем нужно

### Почему это важно

**Проблема P vs NP** — одна из семи "задач тысячелетия" Института Клэя с призом **$1,000,000**.

```
┌────────────────────────────────────────────────────────────────┐
│           ПОСЛЕДСТВИЯ РЕШЕНИЯ P vs NP                          │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ЕСЛИ P = NP (маловероятно, но возможно):                      │
│                                                                │
│  • Криптография рухнет:                                        │
│    - RSA, AES, все современные шифры — взломаны               │
│    - Блокчейн, биткойн — уязвимы                              │
│    - Банковские системы — под угрозой                         │
│                                                                │
│  • Математика изменится:                                       │
│    - Автоматический поиск доказательств                        │
│    - Теоремы доказываются "сами"                               │
│                                                                │
│  • Оптимизация станет тривиальной:                             │
│    - Идеальные расписания                                      │
│    - Оптимальная логистика                                     │
│    - Белки сворачиваются мгновенно                            │
│                                                                │
│  • AI получит "суперсилу":                                     │
│    - Обучение станет тривиальным                               │
│    - Любая задача распознавания — легко                        │
│                                                                │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ЕСЛИ P ≠ NP (считается наиболее вероятным):                   │
│                                                                │
│  • Криптография обоснована:                                    │
│    - Шифрование надёжно (в теории)                             │
│    - Цифровые подписи работают                                 │
│                                                                │
│  • Подтверждается интуиция:                                    │
│    - "Творчество" сложнее "проверки"                           │
│    - Поиск труднее верификации                                 │
│                                                                │
│  • Теория сложности получит фундамент                          │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### Практические области

| Область | Если P = NP | Если P ≠ NP |
|---------|-------------|-------------|
| Криптография | Катастрофа | Безопасность |
| Оптимизация | Тривиальна | Нужны эвристики |
| AI/ML | Суперспособности | Ограничения |
| Математика | Автодоказательства | Творчество нужно |
| Биоинформатика | Прорыв | Приближения |

## Что мы знаем

### Доказанные факты

```
1. P ⊆ NP (очевидно)
   Если можно решить за poly time, можно и проверить за poly time

2. NP-complete ≠ ∅
   SAT, CLIQUE, TSP-decision и тысячи других задач NP-полны

3. Если P = NP, то P = NP = co-NP

4. Если NP ≠ co-NP, то P ≠ NP

5. Relativization Barrier (Baker-Gill-Solovay, 1975):
   Существуют оракулы A, B такие, что:
   P^A = NP^A и P^B ≠ NP^B
   → Простые диагональные методы не работают

6. Natural Proofs Barrier (Razborov-Rudich, 1997):
   Если односторонние функции существуют,
   то "естественные доказательства" не могут отделить P от NP

7. Algebrization Barrier (Aaronson-Wigderson, 2009):
   Обобщение релятивизации
```

### Диаграмма возможных сценариев

```
┌─────────────────────────────────────────────────────────────────┐
│               ВОЗМОЖНЫЕ СЦЕНАРИИ P vs NP                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  СЦЕНАРИЙ 1: P = NP                                             │
│  ┌──────────────────────────────────────┐                       │
│  │         P = NP = co-NP               │                       │
│  │    (все классы совпадают)            │                       │
│  └──────────────────────────────────────┘                       │
│  Вероятность: очень мала (~1%)                                  │
│                                                                 │
│  СЦЕНАРИЙ 2: P ≠ NP, но NP = co-NP                              │
│  ┌──────────────────────────────────────┐                       │
│  │          NP = co-NP                  │                       │
│  │    ┌─────────────────────────┐       │                       │
│  │    │           P             │       │                       │
│  │    └─────────────────────────┘       │                       │
│  └──────────────────────────────────────┘                       │
│  Возможно, но считается маловероятным                           │
│                                                                 │
│  СЦЕНАРИЙ 3: P ≠ NP и NP ≠ co-NP (наиболее вероятный)           │
│          ┌─────────┐   ┌─────────┐                              │
│          │   NP    │   │  co-NP  │                              │
│          │   ┌─────┴───┴─────┐   │                              │
│          │   │       P       │   │                              │
│          │   └───────────────┘   │                              │
│          └─────────────────────┘                                │
│  Вероятность: высокая (~99%)                                    │
│                                                                 │
│  СЦЕНАРИЙ 4: Независимость от ZFC                               │
│  Проблема P vs NP недоказуема в стандартной математике          │
│  Возможно, но большинство не верит                              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## Исторический контекст

### Хронология

```
1936    Тьюринг: машины Тьюринга, понятие вычислимости
         │
1956    Гёдель → фон Нейман: письмо с вопросом о SAT
         │ (фактически первая формулировка P vs NP!)
         │
1965    Эдмондс: "хороший алгоритм" = полиномиальное время
         │
1971    Кук: теорема о NP-полноте SAT
         │ Формальное определение P и NP
         │
1972    Карп: 21 NP-полная задача
         │
1973    Левин: независимо — NP-полнота (СССР)
         │
1975    Baker-Gill-Solovay: барьер релятивизации
         │
1979    Хачиян: LP ∈ P (метод эллипсоидов)
         │ (многие надеялись, что это путь к P = NP)
         │
1997    Razborov-Rudich: барьер естественных доказательств
         │
2000    Институт Клэя: P vs NP — задача тысячелетия ($1M)
         │
2002    AKS: PRIMES ∈ P
         │ (удивительный результат, но не решает P vs NP)
         │
2009    Aaronson-Wigderson: барьер алгебраизации
         │
2010    Deolalikar: ложное заявление о доказательстве P ≠ NP
         │
2024    Проблема всё ещё открыта!
```

### Ключевые фигуры

| Учёный | Вклад | Год |
|--------|-------|-----|
| Алан Тьюринг | Машины Тьюринга | 1936 |
| Курт Гёдель | Первая формулировка (письмо) | 1956 |
| Джек Эдмондс | Полиномиальное время = эффективность | 1965 |
| Стивен Кук | NP-полнота SAT | 1971 |
| Ричард Карп | 21 NP-полная задача | 1972 |
| Леонид Левин | NP-полнота (независимо) | 1973 |

## Аргументы за P ≠ NP

### Почему большинство верит в P ≠ NP

```
┌────────────────────────────────────────────────────────────────┐
│              АРГУМЕНТЫ ЗА P ≠ NP                               │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  1. ИНТУИЦИЯ                                                   │
│     • Найти легче, чем проверить (творчество vs критика)       │
│     • 50+ лет поисков полиномиальных алгоритмов — безуспешно   │
│                                                                │
│  2. КРИПТОГРАФИЯ РАБОТАЕТ                                      │
│     • RSA используется 40+ лет без взлома                      │
│     • Если бы P = NP, криптоанализ был бы тривиален            │
│                                                                │
│  3. СОЦИОЛОГИЧЕСКИЙ АРГУМЕНТ                                   │
│     • ~99% теоретиков верят в P ≠ NP (опросы)                  │
│     • Тысячи попыток найти алгоритм — все провалились          │
│                                                                │
│  4. ЕСТЕСТВЕННЫЕ ПРОБЛЕМЫ                                      │
│     • TSP, SAT, CLIQUE — "естественные" задачи                 │
│     • Если бы решались за P, мы бы уже нашли                   │
│                                                                │
│  5. БАРЬЕРЫ                                                    │
│     • Релятивизация, natural proofs, алгебраизация             │
│     • Простые методы доказательства не работают                │
│     • Это говорит о глубине проблемы                           │
│                                                                │
│  6. СТРУКТУРА СЛОЖНОСТИ                                        │
│     • Полиномиальная иерархия                                  │
│     • Если P = NP, вся иерархия коллапсирует                   │
│     • Это противоречит многим результатам                      │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### Возможные сценарии доказательства

```
Как могло бы выглядеть доказательство P ≠ NP:

1. НИЖНЯЯ ГРАНИЦА ДЛЯ СХЕМ
   Показать, что SAT не решается схемами размера poly(n)

2. АЛГЕБРАИЧЕСКАЯ ГЕОМЕТРИЯ (Mulmuley's GCT)
   Geometric Complexity Theory — программа с 2001 года

3. ТЕОРИЯ ТИПОВ И ЛОГИКА
   Новые логические системы

4. КОМБИНАТОРИКА
   Комбинаторные границы для алгоритмов

Все эти подходы пока не дали результата.
```

## Связанные проблемы

### Полиномиальная иерархия

```
┌────────────────────────────────────────────────────────────────┐
│              ПОЛИНОМИАЛЬНАЯ ИЕРАРХИЯ (PH)                      │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  PH = Σ₀ ∪ Σ₁ ∪ Σ₂ ∪ Σ₃ ∪ ...                                 │
│                                                                │
│  Σ₀ = Π₀ = P                                                   │
│  Σ₁ = NP        Π₁ = co-NP                                     │
│  Σ₂ = NP^NP     Π₂ = co-NP^NP                                  │
│  ...                                                           │
│                                                                │
│               ┌─────────────────────────────┐                  │
│               │           PH                │                  │
│               │   ┌─────────────────────┐   │                  │
│               │   │    Σ₃     Π₃        │   │                  │
│               │   │   ┌───────────────┐ │   │                  │
│               │   │   │   Σ₂    Π₂    │ │   │                  │
│               │   │   │ ┌───────────┐ │ │   │                  │
│               │   │   │ │  NP co-NP │ │ │   │                  │
│               │   │   │ │  ┌─────┐  │ │ │   │                  │
│               │   │   │ │  │  P  │  │ │ │   │                  │
│               │   │   │ │  └─────┘  │ │ │   │                  │
│               │   │   │ └───────────┘ │ │   │                  │
│               │   │   └───────────────┘ │   │                  │
│               │   └─────────────────────┘   │                  │
│               └─────────────────────────────┘                  │
│                                                                │
│  ТЕОРЕМА: Если P = NP, то PH = P (вся иерархия коллапсирует)   │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### NP ∩ co-NP

```
Задачи в NP ∩ co-NP — "между P и NP-complete"

Примеры:
• FACTORING (разложение на множители)
• GRAPH ISOMORPHISM (изоморфизм графов)
• PRIMES (до 2002 года, теперь в P!)

Свойства:
• Если L ∈ NP ∩ co-NP, то L вряд ли NP-complete
• Эти задачи "не такие сложные", но неизвестно, в P ли они

        ┌─────────────────────────────────────┐
        │               NP                    │
        │   ┌──────────────┬──────────────┐   │
        │   │              │              │   │
        │   │   NP-complete│  NP ∩ co-NP  │   │
        │   │   SAT, CLIQUE│  FACTORING   │   │
        │   │              │  GRAPH-ISO   │   │
        │   │              │   ┌────────┐ │   │
        │   │              │   │   P    │ │   │
        │   │              │   └────────┘ │   │
        │   │              │              │   │
        │   └──────────────┴──────────────┘   │
        │                                     │
        └─────────────────────────────────────┘
```

### Односторонние функции

```
Односторонняя функция f:
• f(x) вычисляется за полиномиальное время
• f⁻¹(y) НЕ вычисляется за полиномиальное время

ТЕОРЕМА: Односторонние функции существуют ⟺ P ≠ NP

Примеры кандидатов:
• Умножение простых чисел (RSA)
• Дискретный логарифм
• Хеш-функции (SHA-256)

Криптография = вера в P ≠ NP!
```

## Практические следствия

### Что делать сейчас?

```
┌────────────────────────────────────────────────────────────────┐
│           ПРАКТИКА В МИРЕ P ≠ NP (ВЕРОЯТНО)                    │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  1. КРИПТОГРАФИЯ                                               │
│     • Использовать современные шифры (RSA, AES, ECC)           │
│     • Следить за квантовыми компьютерами                       │
│     • Постквантовая криптография (решётки, коды)               │
│                                                                │
│  2. ОПТИМИЗАЦИЯ                                                │
│     • Для NP-трудных задач: приближённые алгоритмы             │
│     • Метаэвристики: генетические, отжиг                       │
│     • SAT-солверы — удивительно эффективны                     │
│     • Коммерческие солверы: CPLEX, Gurobi                      │
│                                                                │
│  3. АЛГОРИТМЫ                                                  │
│     • Параметризованная сложность (FPT)                        │
│     • Специальные случаи (деревья, планарные графы)            │
│     • Рандомизация и амортизация                               │
│                                                                │
│  4. КВАНТОВЫЕ ВЫЧИСЛЕНИЯ                                       │
│     • Алгоритм Шора: факторизация за poly time                 │
│     • Алгоритм Гровера: квадратичное ускорение поиска          │
│     • НО: не решает P vs NP (BQP ≠ NP скорее всего)            │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

### Квантовые вычисления и P vs NP

```
Квантовые компьютеры НЕ решают P vs NP:

BQP (квантовый аналог P) — другой класс:
• BQP ⊆ PSPACE
• Неизвестно: NP ⊆ BQP?
• Считается, что NP ⊄ BQP

Что квантовые компьютеры могут:
• FACTORING — полиномиальное время (Шор)
• SEARCH — квадратичное ускорение (Гровер)
• Симуляция квантовых систем

Что НЕ могут (вероятно):
• Решить SAT за poly time
• Решить TSP за poly time
• Решить NP-complete за poly time
```

## Философские аспекты

### Значение для понимания вычислений

```
P vs NP затрагивает фундаментальные вопросы:

1. ТВОРЧЕСТВО VS ВЕРИФИКАЦИЯ
   • Создание идеи vs проверка идеи
   • Математическое доказательство vs проверка доказательства

2. ПРИРОДА ИНТЕЛЛЕКТА
   • Может ли машина "творить"?
   • Что отличает человеческое мышление?

3. ГРАНИЦЫ ПОЗНАНИЯ
   • Какие задачи принципиально сложны?
   • Есть ли предел эффективности вычислений?

4. МАТЕМАТИЧЕСКАЯ ИСТИНА
   • Возможно ли доказать P ≠ NP в ZFC?
   • Или это независимое утверждение?
```

## Попытки доказательства

### Известные ложные доказательства

```
┌────────────────────────────────────────────────────────────────┐
│           ПРОВАЛИВШИЕСЯ ПОПЫТКИ                                │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  Vinay Deolalikar (2010)                                       │
│  • Заявил: P ≠ NP                                              │
│  • Ошибка: неверное применение статистической механики         │
│  • Опровергнуто за недели                                      │
│                                                                │
│  Сотни других попыток:                                         │
│  • Большинство отвергнуты на этапе peer review                 │
│  • Типичные ошибки:                                            │
│    - Игнорирование барьеров                                    │
│    - Неформальные рассуждения                                  │
│    - Логические пробелы                                        │
│                                                                │
│  Почему так сложно:                                            │
│  • Барьер релятивизации                                        │
│  • Барьер естественных доказательств                           │
│  • Барьер алгебраизации                                        │
│  • Нужны НОВЫЕ методы, которых ещё нет                         │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

## Итоги

1. **P vs NP** — центральная открытая проблема теоретической информатики
2. **Неизвестно**: P = NP или P ≠ NP (более 50 лет исследований)
3. **Консенсус**: большинство (~99%) верит в P ≠ NP
4. **Последствия P = NP**: крах криптографии, тривиальная оптимизация
5. **Последствия P ≠ NP**: обоснование криптографии, необходимость эвристик
6. **Барьеры**: релятивизация, natural proofs, алгебраизация
7. **Приз**: $1,000,000 от Института Клэя
8. **Практика**: работаем в предположении P ≠ NP (криптография, оптимизация)
9. **Квантовые компьютеры** НЕ решают P vs NP
10. **Проблема остаётся открытой** и ждёт своего решения
