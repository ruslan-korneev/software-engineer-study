# Почему Vi (Why Vi)

## Введение в Vi/Vim

**Vi** (Visual editor) — один из старейших и наиболее распространённых текстовых редакторов в Unix-системах. **Vim** (Vi IMproved) — его улучшенная версия с дополнительными функциями.

## Почему стоит изучить Vi?

### 1. Повсеместная доступность

Vi установлен практически на каждой Unix/Linux системе:

```bash
# Проверить наличие vi
which vi
# /usr/bin/vi

# На большинстве систем vim установлен как vi
ls -la /usr/bin/vi
# lrwxrwxrwx ... /usr/bin/vi -> vim
```

**Где вы встретите Vi:**
- Серверы Linux (даже минимальные установки)
- macOS (поставляется из коробки)
- Embedded системы
- Docker контейнеры
- Rescue режим (когда другие редакторы недоступны)

### 2. Работа на удалённых серверах

При подключении по SSH другие редакторы могут быть недоступны:

```bash
# Подключение к серверу
ssh user@server

# На сервере может не быть nano, но vi точно есть
vi /etc/nginx/nginx.conf
```

### 3. Эффективность работы

После освоения Vi работа с текстом становится очень быстрой:

- **Руки остаются на клавиатуре** — нет нужды использовать мышь
- **Модальный режим** — разные режимы для разных задач
- **Мощные команды** — одна команда может заменить множество действий
- **Навигация без стрелок** — пальцы не покидают основной ряд клавиш

### 4. Работа с конфигурационными файлами

Администрирование Linux часто требует редактирования конфигов:

```bash
# Редактирование системных файлов
sudo vi /etc/hosts
sudo vi /etc/fstab
sudo vi /etc/ssh/sshd_config

# Редактирование пользовательских настроек
vi ~/.bashrc
vi ~/.gitconfig
```

## Vi vs Vim

### Vi (оригинальный)

- Создан Биллом Джоем в 1976 году
- Базовый функционал
- POSIX стандарт

### Vim (улучшенный)

- Создан Брамом Моленааром в 1991 году
- Подсветка синтаксиса
- Многоуровневая отмена (undo)
- Разделение экрана (split windows)
- Плагины
- Визуальный режим выделения

```bash
# Проверить версию
vim --version | head -1
# VIM - Vi IMproved 8.2

# Запуск с базовыми настройками (как vi)
vim -u NONE file.txt
```

## Альтернативы Vi

### Nano — простой редактор

```bash
nano file.txt
```

**Плюсы:**
- Простой интерфейс
- Подсказки внизу экрана
- Легко освоить

**Минусы:**
- Не везде установлен
- Ограниченные возможности

### Emacs — мощный редактор

```bash
emacs file.txt
```

**Плюсы:**
- Очень мощный
- Расширяемый (Lisp)
- Может делать практически всё

**Минусы:**
- Высокий порог вхождения
- Не везде установлен
- Требует много памяти

### Сравнение редакторов

| Критерий | Vi/Vim | Nano | Emacs |
|----------|--------|------|-------|
| Доступность | Везде | Часто | Редко |
| Сложность | Высокая | Низкая | Очень высокая |
| Возможности | Высокие | Базовые | Максимальные |
| Скорость работы | Высокая | Средняя | Высокая |

## Минимально необходимые навыки

Даже если вы не планируете использовать Vi как основной редактор, нужно знать:

### 1. Как выйти из Vi

```
# Выйти без сохранения
:q!

# Сохранить и выйти
:wq

# Или короче
ZZ
```

### 2. Как редактировать текст

```
# Перейти в режим вставки
i

# Выйти из режима вставки
Esc

# Сохранить
:w
```

### 3. Базовая навигация

```
# Стрелки работают
# Или использовать h, j, k, l
h — влево
j — вниз
k — вверх
l — вправо
```

## Когда Vi незаменим

### 1. Экстренное восстановление системы

```bash
# В single-user mode только vi доступен
# Исправление /etc/fstab после ошибки монтирования
vi /etc/fstab
```

### 2. Минимальные контейнеры

```dockerfile
# Alpine Linux — только vi
FROM alpine:latest
# nano, vim не установлены по умолчанию
```

### 3. Встраиваемые системы

```bash
# BusyBox включает vi
busybox vi file.txt
```

### 4. Git commit messages

```bash
# Git по умолчанию открывает vi для сообщений коммита
git commit
# Открывается vi

# Изменить редактор для git
git config --global core.editor "nano"
```

## Философия Vi

Vi построен на нескольких принципах:

### 1. Модальность

Разные режимы для разных задач:
- **Normal mode** — навигация и команды
- **Insert mode** — ввод текста
- **Visual mode** — выделение
- **Command mode** — команды Ex

### 2. Компонуемость

Команды можно комбинировать:
```
d    — удалить
w    — слово
dw   — удалить слово
d3w  — удалить 3 слова
```

### 3. Текстовые объекты

Работа со структурными единицами текста:
```
w    — слово (word)
s    — предложение (sentence)
p    — абзац (paragraph)
```

## С чего начать?

### 1. Vimtutor — встроенный учебник

```bash
# Запустить интерактивный учебник (30-40 минут)
vimtutor

# На русском (если установлен)
vimtutor ru
```

### 2. Практика на простых задачах

```bash
# Создать тестовый файл
vi practice.txt

# Попрактиковаться:
# - Навигация
# - Вставка текста
# - Удаление
# - Сохранение
```

### 3. Использовать Vi для простых правок

Начните использовать Vi для небольших правок конфигурационных файлов.

## Резюме

- Vi доступен практически везде — это главная причина его изучения
- Vim — улучшенная версия с дополнительными функциями
- Минимум: научитесь выходить из Vi и делать простые правки
- Vimtutor — лучший способ начать обучение
- Модальный подход Vi становится интуитивным с практикой
