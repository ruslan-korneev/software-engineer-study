# Character Encoding (–ö–æ–¥–∏—Ä–æ–≤–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤)

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

**–ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–∏–º–≤–æ–ª–∞–º–∏ (–±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –∑–Ω–∞–∫–∏) –∏ –∏—Ö —á–∏—Å–ª–æ–≤—ã–º–∏ –∫–æ–¥–∞–º–∏. –ö–æ–º–ø—å—é—Ç–µ—Ä—ã —Ö—Ä–∞–Ω—è—Ç —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º –Ω—É–∂–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è.

```
–°–∏–º–≤–æ–ª ‚Üí –ö–æ–¥ ‚Üí –ë–∞–π—Ç—ã
   A   ‚Üí  65  ‚Üí 0x41
   –Ø   ‚Üí 1071 ‚Üí 0xD0 0xAF (–≤ UTF-8)
```

## ASCII (American Standard Code for Information Interchange)

### –ò—Å—Ç–æ—Ä–∏—è
- –°–æ–∑–¥–∞–Ω –≤ 1963 –≥–æ–¥—É
- 7-–±–∏—Ç–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (128 —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ–¥—ã 0-127)
- –°—Ç–∞–ª –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ASCII

| –î–∏–∞–ø–∞–∑–æ–Ω | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä—ã |
|----------|----------|---------|
| 0-31 | –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–∏–º–≤–æ–ª—ã | `\n` (10), `\t` (9), `\r` (13) |
| 32-47 | –ü—É–Ω–∫—Ç—É–∞—Ü–∏—è, —Å–∏–º–≤–æ–ª—ã | –ø—Ä–æ–±–µ–ª (32), `!`, `"`, `#` |
| 48-57 | –¶–∏—Ñ—Ä—ã | `0`-`9` (48-57) |
| 58-64 | –ü—É–Ω–∫—Ç—É–∞—Ü–∏—è | `:`, `;`, `<`, `=`, `>`, `?`, `@` |
| 65-90 | –ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã | `A`-`Z` (65-90) |
| 91-96 | –ü—É–Ω–∫—Ç—É–∞—Ü–∏—è | `[`, `\`, `]`, `^`, `_`, `` ` `` |
| 97-122 | –°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã | `a`-`z` (97-122) |
| 123-127 | –ü—É–Ω–∫—Ç—É–∞—Ü–∏—è | `{`, `|`, `}`, `~`, DEL |

### –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏

```python
# –¶–∏—Ñ—Ä—ã: –∫–æ–¥ = —Å–∏–º–≤–æ–ª + 48
ord('0')  # 48
ord('5')  # 53 (48 + 5)

# –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –∏ —Å—Ç—Ä–æ—á–Ω—ã–º–∏ = 32
ord('A')  # 65
ord('a')  # 97 (65 + 32)

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ —á–µ—Ä–µ–∑ XOR
char = ord('A')
lower = char ^ 0x20  # 97 ('a')
upper = char & ~0x20  # 65 ('A')
```

### –ü—Ä–∏–º–µ—Ä—ã –Ω–∞ Python

```python
# –ö–æ–¥ —Å–∏–º–≤–æ–ª–∞
print(ord('A'))      # 65
print(ord('\n'))     # 10

# –°–∏–º–≤–æ–ª –ø–æ –∫–æ–¥—É
print(chr(65))       # 'A'
print(chr(97))       # 'a'

# –í—Å—è ASCII —Ç–∞–±–ª–∏—Ü–∞
for i in range(128):
    if i >= 32:  # –ü–µ—á–∞—Ç–∞–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã
        print(f"{i:3d} = {chr(i)}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ASCII
text = "Hello"
print(text.isascii())  # True
text = "–ü—Ä–∏–≤–µ—Ç"
print(text.isascii())  # False
```

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ ASCII –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (8-–±–∏—Ç)

–ö–æ–≥–¥–∞ 128 —Å–∏–º–≤–æ–ª–æ–≤ —Å—Ç–∞–ª–æ –º–∞–ª–æ, –ø–æ—è–≤–∏–ª–∏—Å—å **8-–±–∏—Ç–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è** (256 —Å–∏–º–≤–æ–ª–æ–≤).
–ö–æ–¥—ã 0-127 —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å ASCII, –∫–æ–¥—ã 128-255 ‚Äî —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã.

### –ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

| –ö–æ–¥–∏—Ä–æ–≤–∫–∞ | –†–µ–≥–∏–æ–Ω | –°–∏–º–≤–æ–ª —Å –∫–æ–¥–æ–º 200 |
|-----------|--------|-------------------|
| Windows-1251 | –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ | `–ò` |
| Windows-1252 | –ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞ | `√à` |
| ISO-8859-5 | –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ | `–®` |
| KOI8-R | –†—É—Å—Å–∫–∏–π | `–ø` |

**–ö—Ä–∞–∫–æ–∑—è–±—Ä—ã** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏:
```
"–ü—Ä–∏–≤–µ—Ç" –≤ Windows-1251 ‚Üí –ø—Ä–æ—á–∏—Ç–∞–Ω–æ –∫–∞–∫ ISO-8859-1 ‚Üí "√è√∞√®√¢√•√≤"
```

## Unicode

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**Unicode** ‚Äî —ç—Ç–æ –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—â–∏–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä (**code point**) –∫–∞–∂–¥–æ–º—É —Å–∏–º–≤–æ–ª—É –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤ –º–∏—Ä–∞.

- –ù–∞—á–∞—Ç –≤ 1987 –≥–æ–¥—É
- –í–µ—Ä—Å–∏—è 15.0 (2022): 149,186 —Å–∏–º–≤–æ–ª–æ–≤
- –ü–æ–∫—Ä—ã–≤–∞–µ—Ç: –≤—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏, –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç–∏, –º–∞—Ç–µ–º–∞—Ç–∏–∫—É, —ç–º–æ–¥–∑–∏ –∏ —Ç.–¥.

### Code Points

**Code point** (–∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞) ‚Äî —ç—Ç–æ –Ω–æ–º–µ—Ä —Å–∏–º–≤–æ–ª–∞ –≤ Unicode.

```
U+0041 = A (–ª–∞—Ç–∏–Ω—Å–∫–∞—è A)
U+0410 = –ê (—Ä—É—Å—Å–∫–∞—è –ê)
U+1F600 = üòÄ (—ç–º–æ–¥–∑–∏)
U+4E2D = ‰∏≠ (–∫–∏—Ç–∞–π—Å–∫–∏–π –∏–µ—Ä–æ–≥–ª–∏—Ñ)
```

–î–∏–∞–ø–∞–∑–æ–Ω: –æ—Ç U+0000 –¥–æ U+10FFFF (–±–æ–ª–µ–µ 1 –º–∏–ª–ª–∏–æ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤).

### –ü–ª–æ—Å–∫–æ—Å—Ç–∏ Unicode

| –ü–ª–æ—Å–∫–æ—Å—Ç—å | –î–∏–∞–ø–∞–∑–æ–Ω | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|----------|
| BMP (Basic Multilingual Plane) | U+0000 - U+FFFF | –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ |
| SMP (Supplementary) | U+10000 - U+1FFFF | –≠–º–æ–¥–∑–∏, –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç–∏ |
| SIP | U+20000 - U+2FFFF | –†–µ–¥–∫–∏–µ –∫–∏—Ç–∞–π—Å–∫–∏–µ –∏–µ—Ä–æ–≥–ª–∏—Ñ—ã |
| ... | ... | –î—Ä—É–≥–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ |

## –ö–æ–¥–∏—Ä–æ–≤–∫–∏ Unicode (—Å–ø–æ—Å–æ–±—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è)

Unicode ‚Äî —ç—Ç–æ **–Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤**. –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö –Ω—É–∂–Ω–∞ **–∫–æ–¥–∏—Ä–æ–≤–∫–∞**.

### UTF-8 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è)

**UTF-8** ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç 1 –¥–æ 4 –±–∞–π—Ç –Ω–∞ —Å–∏–º–≤–æ–ª.

| –î–∏–∞–ø–∞–∑–æ–Ω Unicode | –ë–∞–π—Ç | –§–æ—Ä–º–∞—Ç |
|------------------|------|--------|
| U+0000 - U+007F | 1 | `0xxxxxxx` |
| U+0080 - U+07FF | 2 | `110xxxxx 10xxxxxx` |
| U+0800 - U+FFFF | 3 | `1110xxxx 10xxxxxx 10xxxxxx` |
| U+10000 - U+10FFFF | 4 | `11110xxx 10xxxxxx 10xxxxxx 10xxxxxx` |

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ UTF-8:**
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ASCII (–∫–æ–¥—ã 0-127 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã)
- –°–∞–º–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –Ω–∞—á–∞–ª–æ —Å–∏–º–≤–æ–ª–∞)
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø–æ—Ä—è–¥–∫–æ–º –±–∞–π—Ç–æ–≤ (endianness)
- –ù–µ—Ç null-–±–∞–π—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏ (–∫—Ä–æ–º–µ —Å–∏–º–≤–æ–ª–∞ NUL)

```python
# –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UTF-8
text = "Hello –ú–∏—Ä üåç"

utf8_bytes = text.encode('utf-8')
print(utf8_bytes)  # b'Hello \xd0\x9c\xd0\xb8\xd1\x80 \xf0\x9f\x8c\x8d'
print(len(utf8_bytes))  # 18 –±–∞–π—Ç

# –†–∞–∑–±–æ—Ä –ø–æ —Å–∏–º–≤–æ–ª–∞–º:
# H, e, l, l, o, –ø—Ä–æ–±–µ–ª = 6 –±–∞–π—Ç (–ø–æ 1)
# –ú, –∏, —Ä = 6 –±–∞–π—Ç (–ø–æ 2)
# –ø—Ä–æ–±–µ–ª = 1 –±–∞–π—Ç
# üåç = 4 –±–∞–π—Ç–∞
# –ò—Ç–æ–≥–æ: 6 + 6 + 1 + 4 + 1 = 18 –±–∞–π—Ç

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
decoded = utf8_bytes.decode('utf-8')
print(decoded)  # "Hello –ú–∏—Ä üåç"
```

### UTF-16

**UTF-16** ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π/–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω–æ–π:
- BMP —Å–∏–º–≤–æ–ª—ã (U+0000 - U+FFFF): 2 –±–∞–π—Ç–∞
- –°–∏–º–≤–æ–ª—ã –≤—ã—à–µ BMP: 4 –±–∞–π—Ç–∞ (—Å—É—Ä—Ä–æ–≥–∞—Ç–Ω–∞—è –ø–∞—Ä–∞)

```python
text = "Hello üåç"

utf16_bytes = text.encode('utf-16')
print(utf16_bytes.hex())  # fffe48006500...

# UTF-16 Little Endian (–±–µ–∑ BOM)
utf16le = text.encode('utf-16-le')
print(utf16le.hex())  # 480065006c006c006f0020003dd83c0df

# UTF-16 Big Endian
utf16be = text.encode('utf-16-be')
print(utf16be.hex())  # 00480065006c006c006f00203dd8df0c
```

**BOM (Byte Order Mark):**
- `0xFEFF` –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –±–∞–π—Ç–æ–≤
- UTF-16-LE: `FF FE`
- UTF-16-BE: `FE FF`

### UTF-32

**UTF-32** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ 4 –±–∞–π—Ç–∞ –Ω–∞ –ª—é–±–æ–π —Å–∏–º–≤–æ–ª.

```python
text = "A –ë üåç"
utf32 = text.encode('utf-32-le')
print(len(utf32))  # 20 –±–∞–π—Ç (5 —Å–∏–º–≤–æ–ª–æ–≤ √ó 4)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ü—Ä–æ—Å—Ç–æ–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É (O(1)).
**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –†–∞—Å—Ö–æ–¥ –ø–∞–º—è—Ç–∏ –≤ 4 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –¥–ª—è ASCII-—Ç–µ–∫—Å—Ç–∞.

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–æ–∫

| –ö–æ–¥–∏—Ä–æ–≤–∫–∞ | ASCII —Ç–µ–∫—Å—Ç | –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ | –≠–º–æ–¥–∑–∏ | Endianness |
|-----------|-------------|-----------|--------|------------|
| UTF-8 | 1 –±–∞–π—Ç/—Å–∏–º–≤–æ–ª | 2 –±–∞–π—Ç–∞ | 4 –±–∞–π—Ç–∞ | –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º |
| UTF-16 | 2 –±–∞–π—Ç–∞ | 2 –±–∞–π—Ç–∞ | 4 –±–∞–π—Ç–∞ | –¢—Ä–µ–±—É–µ—Ç BOM |
| UTF-32 | 4 –±–∞–π—Ç–∞ | 4 –±–∞–π—Ç–∞ | 4 –±–∞–π—Ç–∞ | –¢—Ä–µ–±—É–µ—Ç BOM |

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

```python
# –ó–∞–ø–∏—Å—å —Å —è–≤–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)
with open('file.txt', 'w', encoding='utf-8') as f:
    f.write("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!")

# –ß—Ç–µ–Ω–∏–µ
with open('file.txt', 'r', encoding='utf-8') as f:
    content = f.read()

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (—Å –ø–æ–º–æ—â—å—é chardet)
import chardet

with open('unknown.txt', 'rb') as f:
    raw = f.read()
    result = chardet.detect(raw)
    print(result)  # {'encoding': 'utf-8', 'confidence': 0.99}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
text = "–ü—Ä–∏–≤–µ—Ç üåç"
latin_bytes = "caf√©".encode('latin-1')

# –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
try:
    text.encode('ascii')
except UnicodeEncodeError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")

# –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
text.encode('ascii', errors='ignore')      # b'' (—Å–∏–º–≤–æ–ª—ã –ø—Ä–æ–ø—É—â–µ–Ω—ã)
text.encode('ascii', errors='replace')     # b'?????? ??'
text.encode('ascii', errors='xmlcharrefreplace')  # b'&#1055;&#1088;...'
text.encode('ascii', errors='backslashreplace')   # b'\\u041f\\u0440...'

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ—à–∏–±–∫–∞–º–∏
invalid_utf8 = b'\xff\xfe'
invalid_utf8.decode('utf-8', errors='replace')  # 'ÔøΩÔøΩ'
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è Unicode

–û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:

```python
import unicodedata

# "√©" ‚Äî –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
nfc = "caf√©"  # √© –∫–∞–∫ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª (U+00E9)
nfd = "caf√©"  # e + combining accent (U+0065 + U+0301)

print(len(nfc))  # 4
print(len(nfd))  # 5 (!)

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
normalized = unicodedata.normalize('NFC', nfd)
print(len(normalized))  # 4
print(normalized == nfc)  # True
```

**–§–æ—Ä–º—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:**
- **NFC** ‚Äî Composed (–æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)
- **NFD** ‚Äî Decomposed (—Ä–∞–∑–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)
- **NFKC/NFKD** ‚Äî —Å –∑–∞–º–µ–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

## –≠–º–æ–¥–∑–∏ –∏ —Å–ª–æ–∂–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

```python
# –≠–º–æ–¥–∑–∏ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
family = "üë®‚Äçüë©‚Äçüëß"  # –°–µ–º—å—è
print(len(family))  # –ú–æ–∂–µ—Ç –±—ã—Ç—å 1 –∏–ª–∏ –±–æ–ª—å—à–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

# –≠—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ:
# üë® (U+1F468) + ZWJ (U+200D) + üë© (U+1F469) + ZWJ + üëß (U+1F467)

# –§–ª–∞–≥–∏ ‚Äî —ç—Ç–æ –ø–∞—Ä—ã regional indicator symbols
flag_ru = "üá∑üá∫"  # U+1F1F7 + U+1F1FA
```

## Best Practices

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ UTF-8** ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ –¥–ª—è –≤–µ–±–∞ –∏ API
2. **–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É —è–≤–Ω–æ** ‚Äî –Ω–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ —É–º–æ–ª—á–∞–Ω–∏—è
3. **–í Python 3 —Å—Ç—Ä–æ–∫–∏ ‚Äî —É–∂–µ Unicode** ‚Äî –∫–æ–¥–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª/—Å–µ—Ç—å
4. **–ù–æ—Ä–º–∞–ª–∏–∑—É–π—Ç–µ Unicode** –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
5. **–í HTTP —É–∫–∞–∑—ã–≤–∞–π—Ç–µ charset**: `Content-Type: text/html; charset=utf-8`
6. **–í HTML**: `<meta charset="UTF-8">`
7. **–í –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `utf8mb4` –≤ MySQL (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–º–æ–¥–∑–∏)

```python
# –®–∞–±–ª–æ–Ω –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤
import io

# –•–æ—Ä–æ—à–æ
with io.open('file.txt', 'r', encoding='utf-8') as f:
    pass

# –ï—â—ë –ª—É—á—à–µ (Python 3.7+)
with open('file.txt', 'r', encoding='utf-8') as f:
    pass
```

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|---------|
| –ö—Ä–∞–∫–æ–∑—è–±—Ä—ã | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ | –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É |
| `UnicodeDecodeError` | –ë–∞–π—Ç—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–¥–∏—Ä–æ–≤–∫–µ | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `errors='replace'` |
| `UnicodeEncodeError` | –°–∏–º–≤–æ–ª –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UTF-8 |
| –°—Ç—Ä–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ | –≠–º–æ–¥–∑–∏ –∏–ª–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ grapheme-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ |
| –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π | –õ–æ–∫–∞–ª—å-–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ—Ä—è–¥–æ–∫ | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `locale.strxfrm()` |

## –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ–º–∞–º–∏

- **–ë–∏—Ç—ã –∏ –±–∞–π—Ç—ã** ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫–∞–∫ —Å–∏–º–≤–æ–ª—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –±–∞–π—Ç—ã
- **Hex** ‚Äî —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –∫–æ–¥–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤
- **HTTP/API** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ charset –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî –≤—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
