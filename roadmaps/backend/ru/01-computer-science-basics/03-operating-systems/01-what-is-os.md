# Что такое операционная система (Operating System)

## Определение

**Операционная система (ОС)** — это комплекс программного обеспечения, который управляет аппаратными ресурсами компьютера и предоставляет общие службы для выполнения прикладных программ. ОС выступает посредником между пользователем (или программами) и аппаратным обеспечением.

## Основные функции ОС

### 1. Управление процессами
- Создание и завершение процессов
- Планирование выполнения процессов (scheduling)
- Синхронизация и межпроцессное взаимодействие

### 2. Управление памятью
- Выделение и освобождение памяти
- Виртуальная память и страничная организация
- Защита памяти между процессами

### 3. Управление файловой системой
- Создание, чтение, запись и удаление файлов
- Организация каталогов и прав доступа
- Работа с различными типами файловых систем

### 4. Управление устройствами ввода-вывода
- Драйверы устройств
- Буферизация операций I/O
- Обработка прерываний

### 5. Обеспечение безопасности
- Аутентификация пользователей
- Разграничение прав доступа
- Защита от вредоносного кода

## Архитектура ОС

### Ядро (Kernel)
Ядро — центральная часть ОС, работающая в привилегированном режиме (kernel mode). Имеет прямой доступ к оборудованию.

```
┌─────────────────────────────────────────┐
│         Пользовательские приложения     │  User Space
├─────────────────────────────────────────┤
│            Системные вызовы             │  System Call Interface
├─────────────────────────────────────────┤
│                  Ядро                   │  Kernel Space
│  (управление процессами, памятью, I/O)  │
├─────────────────────────────────────────┤
│         Аппаратное обеспечение          │  Hardware
└─────────────────────────────────────────┘
```

### Типы ядер

| Тип | Описание | Примеры |
|-----|----------|---------|
| **Монолитное** | Все службы в одном адресном пространстве | Linux, FreeBSD |
| **Микроядро** | Минимальное ядро, службы в user space | MINIX, QNX |
| **Гибридное** | Компромисс между двумя подходами | Windows NT, macOS |

## Типы операционных систем

### По назначению
- **Серверные ОС**: Linux Server, Windows Server — оптимизированы для обработки запросов
- **Настольные ОС**: Windows, macOS, Linux Desktop — для повседневной работы
- **Мобильные ОС**: Android, iOS — для смартфонов и планшетов
- **Встраиваемые ОС**: FreeRTOS, VxWorks — для IoT и специализированных устройств
- **ОС реального времени (RTOS)**: гарантированное время отклика

### По модели распространения
- **Проприетарные**: Windows, macOS
- **Открытые (Open Source)**: Linux, FreeBSD

## Системные вызовы (System Calls)

Системные вызовы — интерфейс между программами пользователя и ядром ОС.

```c
// Пример системных вызовов в C (POSIX)
#include <unistd.h>
#include <fcntl.h>

int main() {
    // Открытие файла (системный вызов open)
    int fd = open("file.txt", O_RDONLY);

    // Чтение из файла (системный вызов read)
    char buffer[100];
    read(fd, buffer, 100);

    // Закрытие файла (системный вызов close)
    close(fd);

    return 0;
}
```

### Категории системных вызовов
- **Управление процессами**: `fork()`, `exec()`, `exit()`, `wait()`
- **Работа с файлами**: `open()`, `read()`, `write()`, `close()`
- **Управление устройствами**: `ioctl()`, `read()`, `write()`
- **Работа с информацией**: `getpid()`, `time()`, `uname()`
- **Межпроцессное взаимодействие**: `pipe()`, `shmget()`, `socket()`

## Режимы работы процессора

### User Mode (Пользовательский режим)
- Ограниченный доступ к ресурсам
- Выполняются прикладные программы
- При попытке выполнить привилегированную операцию — исключение

### Kernel Mode (Режим ядра)
- Полный доступ ко всем ресурсам
- Выполняется код ядра ОС
- Возможность выполнения любых инструкций процессора

## Популярные операционные системы

### Linux
```bash
# Информация о системе
uname -a
# Linux hostname 5.15.0 #1 SMP x86_64 GNU/Linux

# Информация о дистрибутиве
cat /etc/os-release

# Информация о ядре
cat /proc/version
```

### macOS (на базе Darwin/XNU)
```bash
# Версия системы
sw_vers

# Информация о ядре
uname -v
```

### Windows
```powershell
# Информация о системе
systeminfo

# Версия Windows
winver
```

## Загрузка операционной системы (Boot Process)

1. **POST (Power-On Self-Test)** — проверка оборудования
2. **BIOS/UEFI** — инициализация оборудования, поиск загрузчика
3. **Bootloader** (GRUB, Windows Boot Manager) — загрузка ядра
4. **Инициализация ядра** — настройка памяти, устройств
5. **Init/systemd** — запуск системных служб
6. **Login** — приглашение для входа пользователя

## Best Practices для разработчиков

1. **Понимайте системные вызовы** — они определяют возможности ваших программ
2. **Учитывайте переносимость** — разные ОС имеют разные API
3. **Используйте стандарты** — POSIX обеспечивает совместимость между Unix-подобными ОС
4. **Следите за ресурсами** — ОС предоставляет инструменты мониторинга (`top`, `htop`, `ps`)
5. **Изучайте права доступа** — понимание модели безопасности критично для серверных приложений

## Заключение

Операционная система — фундамент, на котором работают все приложения. Для backend-разработчика важно понимать:
- Как ОС управляет процессами и памятью
- Как работают системные вызовы
- Особенности Linux как серверной платформы
- Механизмы безопасности и разграничения доступа
