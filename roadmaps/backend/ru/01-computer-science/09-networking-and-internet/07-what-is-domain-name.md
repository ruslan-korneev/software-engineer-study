# Что такое доменное имя?

[prev: 06-dns-and-how-it-works](./06-dns-and-how-it-works.md) | [next: 08-what-is-http](./08-what-is-http.md)

---
**Доменное имя** — это человекочитаемый адрес сайта вместо IP-адреса.

```
google.com  →  142.250.74.46
```

Проще запомнить `google.com`, чем `142.250.74.46`.

## Структура домена

```
    blog.example.com
    ─┬── ───┬─── ─┬─
     │      │     └── TLD (Top-Level Domain) — домен верхнего уровня
     │      └── SLD (Second-Level Domain) — домен второго уровня
     └── Subdomain — поддомен
```

**Читается справа налево:**
1. `.com` — TLD
2. `example` — основной домен (SLD)
3. `blog` — поддомен

## Типы TLD (доменов верхнего уровня)

| Тип | Примеры | Описание |
|-----|---------|----------|
| **gTLD** (generic) | .com, .org, .net | Общие, для всех |
| **ccTLD** (country code) | .ru, .ua, .de, .uk | Страновые |
| **New gTLD** | .app, .dev, .io, .shop | Новые тематические |
| **Sponsored** | .edu, .gov, .mil | Ограниченные (для организаций) |

## Как получить домен?

**Регистратор (Registrar)** — компания, через которую покупаешь домен:
- Международные: Namecheap, GoDaddy, Google Domains, Cloudflare
- Для .ru/.рф: REG.RU, Beget, RU-CENTER

**Процесс регистрации:**
1. Проверяешь, свободен ли домен
2. Платишь за 1 год (обычно $10-15 для .com)
3. Указываешь свои DNS-серверы
4. Продлеваешь каждый год (иначе домен освобождается)

## Поддомены

Создаются бесплатно, сколько угодно:

```
example.com          — основной сайт
www.example.com      — алиас (исторически)
blog.example.com     — блог
api.example.com      — API
mail.example.com     — почтовый сервер
dev.example.com      — среда разработки
staging.example.com  — тестовая среда
```

Поддомены настраиваются через DNS-записи.

## Домен vs URL vs IP

| Термин | Пример | Что это |
|--------|--------|---------|
| **IP-адрес** | 142.250.74.46 | Реальный адрес сервера |
| **Домен** | google.com | Человекочитаемое имя |
| **URL** | https://google.com/search?q=test | Полный адрес ресурса |

**Структура URL:**
```
https://blog.example.com:443/posts/123?sort=date#comments
──┬───  ───────┬───────  ─┬─ ────┬──── ───┬──── ───┬────
протокол     домен      порт   путь    query    fragment
                                       params    (якорь)
```

## Ограничения и правила

- Максимальная длина полного домена: **253 символа**
- Максимальная длина одной части (метки): **63 символа**
- Разрешённые символы: `a-z`, `0-9`, `-` (дефис)
- Дефис не может быть в начале или конце
- Регистр не важен: `Google.COM` = `google.com`

## Кириллические домены (IDN)

Internationalized Domain Names — домены на национальных языках:

```
пример.рф  →  xn--e1afmkfd.xn--p1ai (Punycode)
```

Браузер автоматически преобразует кириллицу в Punycode для DNS-запроса.

## WHOIS

Публичная база данных с информацией о владельцах доменов:

```bash
whois example.com
```

Показывает: владельца, регистратора, дату регистрации, DNS-серверы.

Многие регистраторы предлагают **WHOIS Privacy** — скрытие личных данных.

---

## Q&A

### Можно ли купить домен навсегда?

Нет, домены нельзя купить навсегда. Только **аренда** с продлением.

**Почему так:**
- Домены управляются централизованно (ICANN → регистраторы), нужна поддержка инфраструктуры
- Борьба с киберсквоттингом — иначе спекулянты скупили бы всё
- Бизнес-модель регистраторов

**Максимальный срок:** 10 лет, потом нужно продлить.

**Что будет, если не продлить:**
```
Срок истёк
    ↓
Grace Period (30-45 дней) — можно продлить по обычной цене
    ↓
Redemption Period (30 дней) — можно вернуть за ~$100-200
    ↓
Pending Delete (5 дней)
    ↓
Домен свободен — любой может зарегистрировать
```

### Можно ли купить домен первого уровня (TLD)?

Да, но это **очень дорого и сложно**. ICANN периодически открывает программу **New gTLD Program**.

**Стоимость:**
- Заявка: **$185,000** (невозвратные)
- Ежегодная поддержка: **$25,000+**
- Техническая инфраструктура: **$100,000+ в год**
- **Итого на старт: ~$300,000 - $500,000**

**Требования:**
- Юридическое лицо с финансовой стабильностью
- Техническая инфраструктура (DNS-серверы, реестр)
- Бизнес-план на 3+ года
- Проверка ICANN (6-18 месяцев)

**Примеры приватных TLD:**

| TLD | Владелец |
|-----|----------|
| .google | Google |
| .amazon | Amazon |
| .apple | Apple |
| .bmw | BMW |
| .москва | Правительство Москвы |

**Типы:**
- **Brand TLD** — только для себя (careers.google, maps.google)
- **Open TLD** — продают домены другим (.io, .app)

Последний раунд заявок был в 2012 году. Следующий ожидается в 2026-2027.

---

[prev: 06-dns-and-how-it-works](./06-dns-and-how-it-works.md) | [next: 08-what-is-http](./08-what-is-http.md)
