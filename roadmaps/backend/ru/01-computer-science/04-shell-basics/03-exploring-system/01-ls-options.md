# Команда ls и её опции

[prev: 04-paths-absolute-relative](../02-navigation/04-paths-absolute-relative.md) | [next: 02-file-command](./02-file-command.md)

---
## Что такое ls?

**ls** (list) — команда для вывода содержимого директории. Это одна из самых используемых команд в терминале.

## Базовое использование

```bash
$ ls                    # содержимое текущей директории
$ ls /home              # содержимое указанной директории
$ ls /etc /var          # содержимое нескольких директорий
```

## Основные опции

### -l (long) — подробный формат
```bash
$ ls -l
total 48
drwxr-xr-x  5 user group  4096 Dec 26 10:00 documents
-rw-r--r--  1 user group  1234 Dec 25 15:30 notes.txt
-rwxr-xr-x  1 user group   456 Dec 24 09:00 script.sh
```

Разбор вывода:
```
drwxr-xr-x  5  user  group  4096  Dec 26 10:00  documents
│└────┬───┘ │   │      │      │        │           │
│     │     │   │      │      │        │           └── имя файла
│     │     │   │      │      │        └── дата изменения
│     │     │   │      │      └── размер в байтах
│     │     │   │      └── группа
│     │     │   └── владелец
│     │     └── количество жёстких ссылок
│     └── права доступа (rwx для owner, group, others)
└── тип (d=директория, -=файл, l=ссылка)
```

### -a (all) — включая скрытые файлы
```bash
$ ls -a
.  ..  .bashrc  .config  documents  notes.txt
```

Скрытые файлы начинаются с точки (`.bashrc`, `.config`).

### -h (human-readable) — человекочитаемый размер
```bash
$ ls -lh
-rw-r--r--  1 user group  1.2K Dec 25 15:30 notes.txt
-rw-r--r--  1 user group  15M  Dec 24 09:00 video.mp4
-rw-r--r--  1 user group  2.3G Dec 23 12:00 backup.tar
```

### -t (time) — сортировка по времени
```bash
$ ls -lt              # новые файлы сверху
$ ls -ltr             # новые файлы снизу (r = reverse)
```

### -S (size) — сортировка по размеру
```bash
$ ls -lS              # большие файлы сверху
$ ls -lSr             # большие файлы снизу
```

### -r (reverse) — обратный порядок
```bash
$ ls -lr              # обратный алфавитный порядок
```

### -R (recursive) — рекурсивно
```bash
$ ls -R               # содержимое всех поддиректорий
```

### -d (directory) — информация о директории
```bash
$ ls -ld /etc         # информация о самой папке, а не её содержимом
drwxr-xr-x  138 root root 12288 Dec 26 10:00 /etc
```

## Комбинирование опций

Опции можно объединять:

```bash
$ ls -la              # подробно + скрытые
$ ls -lah             # подробно + скрытые + человекочитаемо
$ ls -lahS            # + сортировка по размеру
$ ls -lahtr           # + по времени + обратный порядок
```

## Полезные комбинации

### Показать всё в деталях
```bash
$ ls -lah
```

### Найти самые большие файлы
```bash
$ ls -lhS | head -10          # 10 самых больших
```

### Найти недавно изменённые
```bash
$ ls -lt | head -10           # 10 последних изменённых
```

### Только директории
```bash
$ ls -d */                    # только директории в текущей папке
$ ls -la | grep "^d"          # директории с подробностями
```

### Только файлы
```bash
$ ls -la | grep "^-"
```

## Фильтрация по шаблону

```bash
$ ls *.txt                    # все .txt файлы
$ ls *.{jpg,png}              # .jpg и .png файлы
$ ls file[1-3].txt            # file1.txt, file2.txt, file3.txt
$ ls file?.txt                # file с любым одним символом
```

## Цветной вывод

Многие системы настроены показывать цвета:
- Синий — директории
- Зелёный — исполняемые файлы
- Голубой — символические ссылки
- Красный — битые ссылки

```bash
$ ls --color=auto             # включить цвета
$ ls --color=never            # отключить цвета
```

## Альтернативы ls

### exa / eza — современная замена
```bash
$ exa -la                     # похоже на ls, но красивее
$ exa --tree                  # дерево файлов
```

### tree — древовидный вид
```bash
$ tree                        # дерево текущей директории
$ tree -L 2                   # глубина 2 уровня
```

## Советы

1. Создайте алиасы для частых команд:
   ```bash
   alias ll='ls -lah'
   alias la='ls -la'
   ```

2. Используйте Tab для автодополнения путей

3. `ls -la` — ваш друг для понимания содержимого любой директории

---

[prev: 04-paths-absolute-relative](../02-navigation/04-paths-absolute-relative.md) | [next: 02-file-command](./02-file-command.md)
